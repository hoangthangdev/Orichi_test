{"ast":null,"code":"import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { createVar } from '@shopify/polaris-tokens';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.css.js';\nfunction Collapsible(_ref) {\n  let {\n    id,\n    expandOnPrint,\n    open,\n    variant = 'block',\n    transition = true,\n    children,\n    onAnimationEnd\n  } = _ref;\n  const [size, setSize] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const collapsibleContainer = useRef(null);\n  const animateIn = typeof transition === 'object' && transition.animateIn;\n  const [animationState, setAnimationState] = useState(animateIn ? 'measuring' : 'idle');\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const vertical = variant === 'block';\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint, variant === 'inline' && styles.inline, animateIn && styles.animateIn);\n  const transitionDisabled = isTransitionDisabled(transition);\n  const transitionStyles = typeof transition === 'object' && {\n    transitionDelay: createVar(`motion-duration-${transition.delay ?? '0'}`),\n    transitionDuration: transition.duration,\n    transitionTimingFunction: transition.timingFunction\n  };\n  const collapsibleStyles = {\n    ...transitionStyles,\n    ...(vertical ? {\n      maxHeight: isFullyOpen ? 'none' : `${size}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    } : {\n      maxWidth: isFullyOpen ? 'none' : `${size}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    })\n  };\n  const handleCompleteAnimation = useCallback(_ref2 => {\n    let {\n      target\n    } = _ref2;\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n      onAnimationEnd && onAnimationEnd();\n    }\n  }, [onAnimationEnd, open]);\n  const startAnimation = useCallback(() => {\n    if (transitionDisabled) {\n      setIsOpen(open);\n      setAnimationState('idle');\n      if (open && collapsibleContainer.current) {\n        setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n      } else {\n        setSize(0);\n      }\n    } else {\n      setAnimationState('measuring');\n    }\n  }, [open, vertical, transitionDisabled]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      startAnimation();\n    }\n    // startAnimation should only be fired if the open state changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return;\n    // If collapsible defaults to open, set an initial height\n    setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n    switch (animationState) {\n      case 'idle':\n        break;\n      case 'measuring':\n        setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n        setAnimationState('animating');\n        break;\n      case 'animating':\n        setSize(\n        // eslint-disable-next-line no-nested-ternary\n        open ? vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth : 0);\n    }\n  }, [animationState, vertical, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\nconst zeroDurationRegex = /^0(ms|s)$/;\nfunction isTransitionDisabled(transitionProp) {\n  if (typeof transitionProp === 'boolean') {\n    return !transitionProp;\n  }\n  const {\n    duration\n  } = transitionProp;\n  if (duration && zeroDurationRegex.test(duration.trim())) {\n    return true;\n  }\n  return false;\n}\nexport { Collapsible };","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","createVar","classNames","styles","Collapsible","_ref","id","expandOnPrint","open","variant","transition","children","onAnimationEnd","size","setSize","isOpen","setIsOpen","collapsibleContainer","animateIn","animationState","setAnimationState","isFullyOpen","isFullyClosed","content","vertical","wrapperClassName","inline","transitionDisabled","isTransitionDisabled","transitionStyles","transitionDelay","delay","transitionDuration","duration","transitionTimingFunction","timingFunction","collapsibleStyles","maxHeight","overflow","maxWidth","handleCompleteAnimation","_ref2","target","current","startAnimation","scrollHeight","scrollWidth","createElement","style","ref","className","onTransitionEnd","zeroDurationRegex","transitionProp","test","trim"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/Collapsible/Collapsible.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { createVar } from '@shopify/polaris-tokens';\nimport { classNames } from '../../utilities/css.js';\nimport styles from './Collapsible.css.js';\n\nfunction Collapsible({\n  id,\n  expandOnPrint,\n  open,\n  variant = 'block',\n  transition = true,\n  children,\n  onAnimationEnd\n}) {\n  const [size, setSize] = useState(0);\n  const [isOpen, setIsOpen] = useState(open);\n  const collapsibleContainer = useRef(null);\n  const animateIn = typeof transition === 'object' && transition.animateIn;\n  const [animationState, setAnimationState] = useState(animateIn ? 'measuring' : 'idle');\n  const isFullyOpen = animationState === 'idle' && open && isOpen;\n  const isFullyClosed = animationState === 'idle' && !open && !isOpen;\n  const content = expandOnPrint || !isFullyClosed ? children : null;\n  const vertical = variant === 'block';\n  const wrapperClassName = classNames(styles.Collapsible, isFullyClosed && styles.isFullyClosed, expandOnPrint && styles.expandOnPrint, variant === 'inline' && styles.inline, animateIn && styles.animateIn);\n  const transitionDisabled = isTransitionDisabled(transition);\n  const transitionStyles = typeof transition === 'object' && {\n    transitionDelay: createVar(`motion-duration-${transition.delay ?? '0'}`),\n    transitionDuration: transition.duration,\n    transitionTimingFunction: transition.timingFunction\n  };\n  const collapsibleStyles = {\n    ...transitionStyles,\n    ...(vertical ? {\n      maxHeight: isFullyOpen ? 'none' : `${size}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    } : {\n      maxWidth: isFullyOpen ? 'none' : `${size}px`,\n      overflow: isFullyOpen ? 'visible' : 'hidden'\n    })\n  };\n  const handleCompleteAnimation = useCallback(({\n    target\n  }) => {\n    if (target === collapsibleContainer.current) {\n      setAnimationState('idle');\n      setIsOpen(open);\n      onAnimationEnd && onAnimationEnd();\n    }\n  }, [onAnimationEnd, open]);\n  const startAnimation = useCallback(() => {\n    if (transitionDisabled) {\n      setIsOpen(open);\n      setAnimationState('idle');\n      if (open && collapsibleContainer.current) {\n        setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n      } else {\n        setSize(0);\n      }\n    } else {\n      setAnimationState('measuring');\n    }\n  }, [open, vertical, transitionDisabled]);\n  useEffect(() => {\n    if (open !== isOpen) {\n      startAnimation();\n    }\n    // startAnimation should only be fired if the open state changes.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, isOpen]);\n  useEffect(() => {\n    if (!open || !collapsibleContainer.current) return;\n    // If collapsible defaults to open, set an initial height\n    setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (!collapsibleContainer.current) return;\n    switch (animationState) {\n      case 'idle':\n        break;\n      case 'measuring':\n        setSize(vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth);\n        setAnimationState('animating');\n        break;\n      case 'animating':\n        setSize(\n        // eslint-disable-next-line no-nested-ternary\n        open ? vertical ? collapsibleContainer.current.scrollHeight : collapsibleContainer.current.scrollWidth : 0);\n    }\n  }, [animationState, vertical, open, isOpen]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    style: collapsibleStyles,\n    ref: collapsibleContainer,\n    className: wrapperClassName,\n    onTransitionEnd: handleCompleteAnimation,\n    \"aria-hidden\": !open\n  }, content);\n}\nconst zeroDurationRegex = /^0(ms|s)$/;\nfunction isTransitionDisabled(transitionProp) {\n  if (typeof transitionProp === 'boolean') {\n    return !transitionProp;\n  }\n  const {\n    duration\n  } = transitionProp;\n  if (duration && zeroDurationRegex.test(duration.trim())) {\n    return true;\n  }\n  return false;\n}\n\nexport { Collapsible };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}