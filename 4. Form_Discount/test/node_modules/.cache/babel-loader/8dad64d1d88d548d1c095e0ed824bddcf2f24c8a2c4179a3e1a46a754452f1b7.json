{"ast":null,"code":"import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { SearchIcon } from '@shopify/polaris-icons';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { TextField } from '../TextField/TextField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Item } from './components/Item/Item.js';\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList(_ref) {\n  let {\n    items,\n    sections = [],\n    actionRole,\n    allowFiltering,\n    onActionAnyItem,\n    filterLabel\n  } = _ref;\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSearchText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(_ref2 => {\n      let {\n        content\n      } = _ref2;\n      return typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content;\n    })\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(TextField, {\n    clearButton: true,\n    labelHidden: true,\n    label: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    placeholder: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    autoComplete: \"off\",\n    value: searchText,\n    onChange: value => setSearchText(value),\n    prefix: /*#__PURE__*/React.createElement(Icon, {\n      source: SearchIcon\n    }),\n    onClearButtonClick: () => setSearchText('')\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\nexport { ActionList };","map":{"version":3,"names":["React","useContext","useRef","useState","useMemo","SearchIcon","Key","wrapFocusPreviousFocusableMenuItem","wrapFocusNextFocusableMenuItem","FilterActionsContext","Section","KeypressListener","TextField","useI18n","Box","Icon","Item","FILTER_ACTIONS_THRESHOLD","ActionList","_ref","items","sections","actionRole","allowFiltering","onActionAnyItem","filterLabel","i18n","filterActions","finalSections","actionListRef","searchText","setSearchText","isFilterable","some","section","item","content","hasMultipleSections","length","elementRole","undefined","elementTabIndex","filteredSections","map","filter","_ref2","toLowerCase","includes","sectionMarkup","index","createElement","key","title","isFirst","handleFocusPreviousItem","evt","preventDefault","current","target","contains","handleFocusNextItem","listeners","Fragment","keyEvent","keyCode","DownArrow","handler","UpArrow","totalFilteredActions","totalSectionItems","reduce","acc","totalActions","hasManyActions","padding","paddingBlockEnd","clearButton","labelHidden","label","translate","placeholder","autoComplete","value","onChange","prefix","source","onClearButtonClick","as","ref","role","tabIndex"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/ActionList/ActionList.js"],"sourcesContent":["import React, { useContext, useRef, useState, useMemo } from 'react';\nimport { SearchIcon } from '@shopify/polaris-icons';\nimport { Key } from '../../types.js';\nimport { wrapFocusPreviousFocusableMenuItem, wrapFocusNextFocusableMenuItem } from '../../utilities/focus.js';\nimport { FilterActionsContext } from '../FilterActionsProvider/FilterActionsProvider.js';\nimport { Section } from './components/Section/Section.js';\nimport { KeypressListener } from '../KeypressListener/KeypressListener.js';\nimport { TextField } from '../TextField/TextField.js';\nimport { useI18n } from '../../utilities/i18n/hooks.js';\nimport { Box } from '../Box/Box.js';\nimport { Icon } from '../Icon/Icon.js';\nimport { Item } from './components/Item/Item.js';\n\nconst FILTER_ACTIONS_THRESHOLD = 8;\nfunction ActionList({\n  items,\n  sections = [],\n  actionRole,\n  allowFiltering,\n  onActionAnyItem,\n  filterLabel\n}) {\n  const i18n = useI18n();\n  const filterActions = useContext(FilterActionsContext);\n  let finalSections = [];\n  const actionListRef = useRef(null);\n  const [searchText, setSearchText] = useState('');\n  if (items) {\n    finalSections = [{\n      items\n    }, ...sections];\n  } else if (sections) {\n    finalSections = sections;\n  }\n  const isFilterable = finalSections?.some(section => section.items.some(item => typeof item.content === 'string'));\n  const hasMultipleSections = finalSections.length > 1;\n  const elementRole = hasMultipleSections && actionRole === 'menuitem' ? 'menu' : undefined;\n  const elementTabIndex = hasMultipleSections && actionRole === 'menuitem' ? -1 : undefined;\n  const filteredSections = finalSections?.map(section => ({\n    ...section,\n    items: section.items.filter(({\n      content\n    }) => typeof content === 'string' ? content?.toLowerCase().includes(searchText.toLowerCase()) : content)\n  }));\n  const sectionMarkup = filteredSections.map((section, index) => {\n    return section.items.length > 0 ? /*#__PURE__*/React.createElement(Section, {\n      key: typeof section.title === 'string' ? section.title : index,\n      section: section,\n      hasMultipleSections: hasMultipleSections,\n      actionRole: actionRole,\n      onActionAnyItem: onActionAnyItem,\n      isFirst: index === 0\n    }) : null;\n  });\n  const handleFocusPreviousItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusPreviousFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const handleFocusNextItem = evt => {\n    evt.preventDefault();\n    if (actionListRef.current && evt.target) {\n      if (actionListRef.current.contains(evt.target)) {\n        wrapFocusNextFocusableMenuItem(actionListRef.current, evt.target);\n      }\n    }\n  };\n  const listeners = actionRole === 'menuitem' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.DownArrow,\n    handler: handleFocusNextItem\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyEvent: \"keydown\",\n    keyCode: Key.UpArrow,\n    handler: handleFocusPreviousItem\n  })) : null;\n  const totalFilteredActions = useMemo(() => {\n    const totalSectionItems = filteredSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n    return totalSectionItems;\n  }, [filteredSections]);\n  const totalActions = finalSections?.reduce((acc, section) => acc + section.items.length, 0) || 0;\n  const hasManyActions = totalActions >= FILTER_ACTIONS_THRESHOLD;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (allowFiltering || filterActions) && hasManyActions && isFilterable && /*#__PURE__*/React.createElement(Box, {\n    padding: \"200\",\n    paddingBlockEnd: totalFilteredActions > 0 ? '0' : '200'\n  }, /*#__PURE__*/React.createElement(TextField, {\n    clearButton: true,\n    labelHidden: true,\n    label: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    placeholder: filterLabel ? filterLabel : i18n.translate('Polaris.ActionList.SearchField.placeholder'),\n    autoComplete: \"off\",\n    value: searchText,\n    onChange: value => setSearchText(value),\n    prefix: /*#__PURE__*/React.createElement(Icon, {\n      source: SearchIcon\n    }),\n    onClearButtonClick: () => setSearchText('')\n  })), /*#__PURE__*/React.createElement(Box, {\n    as: hasMultipleSections ? 'ul' : 'div',\n    ref: actionListRef,\n    role: elementRole,\n    tabIndex: elementTabIndex\n  }, listeners, sectionMarkup));\n}\nActionList.Item = Item;\n\nexport { ActionList };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}