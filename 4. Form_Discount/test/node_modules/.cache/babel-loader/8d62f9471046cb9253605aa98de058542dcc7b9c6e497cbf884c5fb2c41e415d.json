{"ast":null,"code":"import React, { useRef, useContext, useEffect } from 'react';\nimport { Transition, CSSTransition } from 'react-transition-group';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport { focusFirstFocusableNode } from '../../../../utilities/focus.js';\nimport { Key } from '../../../../types.js';\nimport { useTheme } from '../../../../utilities/use-theme.js';\nimport styles from './Dialog.css.js';\nimport { FrameContext } from '../../../../utilities/frame/context.js';\nimport { TrapFocus } from '../../../TrapFocus/TrapFocus.js';\nimport { Text } from '../../../Text/Text.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\nfunction Dialog(_ref) {\n  let {\n    instant,\n    labelledBy,\n    children,\n    limitHeight,\n    size,\n    onClose,\n    onExited,\n    onEntered,\n    setClosing,\n    hasToasts,\n    ...props\n  } = _ref;\n  const theme = useTheme();\n  const containerNode = useRef(null);\n  const frameContext = useContext(FrameContext);\n  let toastMessages;\n  if (frameContext) {\n    toastMessages = frameContext.toastMessages;\n  }\n  const classes = classNames(styles.Modal, size && styles[variationName('size', size)], limitHeight && styles.limitHeight);\n  const TransitionChild = instant ? Transition : FadeUp;\n  useEffect(() => {\n    containerNode.current && !containerNode.current.contains(document.activeElement) && focusFirstFocusableNode(containerNode.current);\n  }, []);\n  const handleKeyDown = () => {\n    if (setClosing) {\n      setClosing(true);\n    }\n  };\n  const handleKeyUp = () => {\n    if (setClosing) {\n      setClosing(false);\n    }\n    onClose();\n  };\n  const ariaLiveAnnouncements = /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-live\": \"assertive\"\n  }, toastMessages ? toastMessages.map(toastMessage => /*#__PURE__*/React.createElement(Text, {\n    visuallyHidden: true,\n    as: \"p\",\n    key: toastMessage.id\n  }, toastMessage.content)) : null);\n  return /*#__PURE__*/React.createElement(TransitionChild, Object.assign({}, props, {\n    nodeRef: containerNode,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    timeout: parseInt(theme.motion['motion-duration-200'], 10),\n    onEntered: onEntered,\n    onExited: onExited\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container,\n    \"data-polaris-layer\": true,\n    \"data-polaris-overlay\": true,\n    ref: containerNode\n  }, /*#__PURE__*/React.createElement(TrapFocus, null, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    \"aria-label\": labelledBy,\n    \"aria-labelledby\": labelledBy,\n    tabIndex: -1,\n    className: styles.Dialog\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    keyEvent: \"keydown\",\n    handler: handleKeyDown\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleKeyUp\n  }), children), ariaLiveAnnouncements))));\n}\nconst fadeUpClasses = {\n  appear: classNames(styles.animateFadeUp, styles.entering),\n  appearActive: classNames(styles.animateFadeUp, styles.entered),\n  enter: classNames(styles.animateFadeUp, styles.entering),\n  enterActive: classNames(styles.animateFadeUp, styles.entered),\n  exit: classNames(styles.animateFadeUp, styles.exiting),\n  exitActive: classNames(styles.animateFadeUp, styles.exited)\n};\nfunction FadeUp(_ref2) {\n  let {\n    children,\n    ...props\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(CSSTransition, Object.assign({}, props, {\n    classNames: fadeUpClasses\n  }), children);\n}\nexport { Dialog };","map":{"version":3,"names":["React","useRef","useContext","useEffect","Transition","CSSTransition","classNames","variationName","focusFirstFocusableNode","Key","useTheme","styles","FrameContext","TrapFocus","Text","KeypressListener","Dialog","_ref","instant","labelledBy","children","limitHeight","size","onClose","onExited","onEntered","setClosing","hasToasts","props","theme","containerNode","frameContext","toastMessages","classes","Modal","TransitionChild","FadeUp","current","contains","document","activeElement","handleKeyDown","handleKeyUp","ariaLiveAnnouncements","createElement","map","toastMessage","visuallyHidden","as","key","id","content","Object","assign","nodeRef","mountOnEnter","unmountOnExit","timeout","parseInt","motion","className","Container","ref","role","tabIndex","keyCode","Escape","keyEvent","handler","fadeUpClasses","appear","animateFadeUp","entering","appearActive","entered","enter","enterActive","exit","exiting","exitActive","exited","_ref2"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/Modal/components/Dialog/Dialog.js"],"sourcesContent":["import React, { useRef, useContext, useEffect } from 'react';\nimport { Transition, CSSTransition } from 'react-transition-group';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport { focusFirstFocusableNode } from '../../../../utilities/focus.js';\nimport { Key } from '../../../../types.js';\nimport { useTheme } from '../../../../utilities/use-theme.js';\nimport styles from './Dialog.css.js';\nimport { FrameContext } from '../../../../utilities/frame/context.js';\nimport { TrapFocus } from '../../../TrapFocus/TrapFocus.js';\nimport { Text } from '../../../Text/Text.js';\nimport { KeypressListener } from '../../../KeypressListener/KeypressListener.js';\n\nfunction Dialog({\n  instant,\n  labelledBy,\n  children,\n  limitHeight,\n  size,\n  onClose,\n  onExited,\n  onEntered,\n  setClosing,\n  hasToasts,\n  ...props\n}) {\n  const theme = useTheme();\n  const containerNode = useRef(null);\n  const frameContext = useContext(FrameContext);\n  let toastMessages;\n  if (frameContext) {\n    toastMessages = frameContext.toastMessages;\n  }\n  const classes = classNames(styles.Modal, size && styles[variationName('size', size)], limitHeight && styles.limitHeight);\n  const TransitionChild = instant ? Transition : FadeUp;\n  useEffect(() => {\n    containerNode.current && !containerNode.current.contains(document.activeElement) && focusFirstFocusableNode(containerNode.current);\n  }, []);\n  const handleKeyDown = () => {\n    if (setClosing) {\n      setClosing(true);\n    }\n  };\n  const handleKeyUp = () => {\n    if (setClosing) {\n      setClosing(false);\n    }\n    onClose();\n  };\n  const ariaLiveAnnouncements = /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-live\": \"assertive\"\n  }, toastMessages ? toastMessages.map(toastMessage => /*#__PURE__*/React.createElement(Text, {\n    visuallyHidden: true,\n    as: \"p\",\n    key: toastMessage.id\n  }, toastMessage.content)) : null);\n  return /*#__PURE__*/React.createElement(TransitionChild, Object.assign({}, props, {\n    nodeRef: containerNode,\n    mountOnEnter: true,\n    unmountOnExit: true,\n    timeout: parseInt(theme.motion['motion-duration-200'], 10),\n    onEntered: onEntered,\n    onExited: onExited\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.Container,\n    \"data-polaris-layer\": true,\n    \"data-polaris-overlay\": true,\n    ref: containerNode\n  }, /*#__PURE__*/React.createElement(TrapFocus, null, /*#__PURE__*/React.createElement(\"div\", {\n    role: \"dialog\",\n    \"aria-modal\": true,\n    \"aria-label\": labelledBy,\n    \"aria-labelledby\": labelledBy,\n    tabIndex: -1,\n    className: styles.Dialog\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    keyEvent: \"keydown\",\n    handler: handleKeyDown\n  }), /*#__PURE__*/React.createElement(KeypressListener, {\n    keyCode: Key.Escape,\n    handler: handleKeyUp\n  }), children), ariaLiveAnnouncements))));\n}\nconst fadeUpClasses = {\n  appear: classNames(styles.animateFadeUp, styles.entering),\n  appearActive: classNames(styles.animateFadeUp, styles.entered),\n  enter: classNames(styles.animateFadeUp, styles.entering),\n  enterActive: classNames(styles.animateFadeUp, styles.entered),\n  exit: classNames(styles.animateFadeUp, styles.exiting),\n  exitActive: classNames(styles.animateFadeUp, styles.exited)\n};\nfunction FadeUp({\n  children,\n  ...props\n}) {\n  return /*#__PURE__*/React.createElement(CSSTransition, Object.assign({}, props, {\n    classNames: fadeUpClasses\n  }), children);\n}\n\nexport { Dialog };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}