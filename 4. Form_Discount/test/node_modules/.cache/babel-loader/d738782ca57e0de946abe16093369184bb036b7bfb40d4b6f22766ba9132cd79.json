{"ast":null,"code":"import React, { Component } from 'react';\nimport { getRectForNode } from '../../utilities/geometry.js';\nimport { useStickyManager } from '../../utilities/sticky-manager/hooks.js';\nclass StickyInner extends Component {\n  constructor() {\n    var _this;\n    super(...arguments);\n    _this = this;\n    this.state = {\n      isSticky: false,\n      style: {}\n    };\n    this.placeHolderNode = null;\n    this.stickyNode = null;\n    this.setPlaceHolderNode = node => {\n      this.placeHolderNode = node;\n    };\n    this.setStickyNode = node => {\n      this.stickyNode = node;\n    };\n    this.handlePositioning = function (stick) {\n      let top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      let left = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      let width = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      const {\n        isSticky\n      } = _this.state;\n      if (stick && !isSticky || !stick && isSticky) {\n        _this.adjustPlaceHolderNode(stick);\n        _this.setState({\n          isSticky: !isSticky\n        }, () => {\n          if (_this.props.onStickyChange == null) {\n            return null;\n          }\n          _this.props.onStickyChange(!isSticky);\n          if (_this.props.boundingElement == null) {\n            return null;\n          }\n          _this.props.boundingElement.toggleAttribute('data-sticky-active');\n        });\n      }\n      const style = stick ? {\n        position: 'fixed',\n        top,\n        left,\n        width\n      } : {};\n      _this.setState({\n        style\n      });\n    };\n    this.adjustPlaceHolderNode = add => {\n      if (this.placeHolderNode && this.stickyNode) {\n        this.placeHolderNode.style.paddingBottom = add ? `${getRectForNode(this.stickyNode).height}px` : '0px';\n      }\n    };\n  }\n  componentDidMount() {\n    const {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n  componentDidUpdate() {\n    const {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    const stickyManagerItem = stickyManager.getStickyItem(this.stickyNode);\n    const didPropsChange = !stickyManagerItem || boundingElement !== stickyManagerItem.boundingElement || offset !== stickyManagerItem.offset || disableWhenStacked !== stickyManagerItem.disableWhenStacked;\n    if (!didPropsChange) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n  componentWillUnmount() {\n    const {\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n  }\n  render() {\n    const {\n      style,\n      isSticky\n    } = this.state;\n    const {\n      children\n    } = this.props;\n    const childrenContent = isFunction(children) ? children(isSticky) : children;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setPlaceHolderNode\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setStickyNode,\n      style: style\n    }, childrenContent));\n  }\n}\n\n// This should have a typeguard instead of using Function\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nfunction Sticky(props) {\n  const stickyManager = useStickyManager();\n  return /*#__PURE__*/React.createElement(StickyInner, Object.assign({}, props, {\n    stickyManager: stickyManager\n  }));\n}\nexport { Sticky };","map":{"version":3,"names":["React","Component","getRectForNode","useStickyManager","StickyInner","constructor","_this","arguments","this","state","isSticky","style","placeHolderNode","stickyNode","setPlaceHolderNode","node","setStickyNode","handlePositioning","stick","top","length","undefined","left","width","adjustPlaceHolderNode","setState","props","onStickyChange","boundingElement","toggleAttribute","position","add","paddingBottom","height","componentDidMount","offset","disableWhenStacked","stickyManager","registerStickyItem","componentDidUpdate","stickyManagerItem","getStickyItem","didPropsChange","unregisterStickyItem","componentWillUnmount","render","children","childrenContent","isFunction","createElement","ref","arg","Sticky","Object","assign"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/Sticky/Sticky.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { getRectForNode } from '../../utilities/geometry.js';\nimport { useStickyManager } from '../../utilities/sticky-manager/hooks.js';\n\nclass StickyInner extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isSticky: false,\n      style: {}\n    };\n    this.placeHolderNode = null;\n    this.stickyNode = null;\n    this.setPlaceHolderNode = node => {\n      this.placeHolderNode = node;\n    };\n    this.setStickyNode = node => {\n      this.stickyNode = node;\n    };\n    this.handlePositioning = (stick, top = 0, left = 0, width = 0) => {\n      const {\n        isSticky\n      } = this.state;\n      if (stick && !isSticky || !stick && isSticky) {\n        this.adjustPlaceHolderNode(stick);\n        this.setState({\n          isSticky: !isSticky\n        }, () => {\n          if (this.props.onStickyChange == null) {\n            return null;\n          }\n          this.props.onStickyChange(!isSticky);\n          if (this.props.boundingElement == null) {\n            return null;\n          }\n          this.props.boundingElement.toggleAttribute('data-sticky-active');\n        });\n      }\n      const style = stick ? {\n        position: 'fixed',\n        top,\n        left,\n        width\n      } : {};\n      this.setState({\n        style\n      });\n    };\n    this.adjustPlaceHolderNode = add => {\n      if (this.placeHolderNode && this.stickyNode) {\n        this.placeHolderNode.style.paddingBottom = add ? `${getRectForNode(this.stickyNode).height}px` : '0px';\n      }\n    };\n  }\n  componentDidMount() {\n    const {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n  componentDidUpdate() {\n    const {\n      boundingElement,\n      offset = false,\n      disableWhenStacked = false,\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode || !this.placeHolderNode) return;\n    const stickyManagerItem = stickyManager.getStickyItem(this.stickyNode);\n    const didPropsChange = !stickyManagerItem || boundingElement !== stickyManagerItem.boundingElement || offset !== stickyManagerItem.offset || disableWhenStacked !== stickyManagerItem.disableWhenStacked;\n    if (!didPropsChange) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n    stickyManager.registerStickyItem({\n      stickyNode: this.stickyNode,\n      placeHolderNode: this.placeHolderNode,\n      handlePositioning: this.handlePositioning,\n      offset,\n      boundingElement,\n      disableWhenStacked\n    });\n  }\n  componentWillUnmount() {\n    const {\n      stickyManager\n    } = this.props;\n    if (!this.stickyNode) return;\n    stickyManager.unregisterStickyItem(this.stickyNode);\n  }\n  render() {\n    const {\n      style,\n      isSticky\n    } = this.state;\n    const {\n      children\n    } = this.props;\n    const childrenContent = isFunction(children) ? children(isSticky) : children;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setPlaceHolderNode\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.setStickyNode,\n      style: style\n    }, childrenContent));\n  }\n}\n\n// This should have a typeguard instead of using Function\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nfunction Sticky(props) {\n  const stickyManager = useStickyManager();\n  return /*#__PURE__*/React.createElement(StickyInner, Object.assign({}, props, {\n    stickyManager: stickyManager\n  }));\n}\n\nexport { Sticky };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}