{"ast":null,"code":"import React, { useRef, useCallback, useEffect } from 'react';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from '../../BulkActions.css.js';\nimport { instanceOfMenuGroupDescriptor } from '../../utilities.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { BulkActionButton } from '../BulkActionButton/BulkActionButton.js';\nconst ACTION_SPACING = 4;\nfunction BulkActionsMeasurer(_ref) {\n  let {\n    promotedActions = [],\n    disabled,\n    buttonSize,\n    handleMeasurement: handleMeasurementProp\n  } = _ref;\n  const i18n = useI18n();\n  const containerNode = useRef(null);\n  const activatorLabel = i18n.translate('Polaris.ResourceList.BulkActions.moreActionsActivatorLabel');\n  const activator = /*#__PURE__*/React.createElement(BulkActionButton, {\n    disclosure: true,\n    content: activatorLabel\n  });\n  const handleMeasurement = useCallback(() => {\n    if (!containerNode.current) {\n      return;\n    }\n    const containerWidth = containerNode.current.offsetWidth;\n    const hiddenActionNodes = containerNode.current.children;\n    const hiddenActionNodesArray = Array.from(hiddenActionNodes);\n    const hiddenActionsWidths = hiddenActionNodesArray.map(node => {\n      const buttonWidth = Math.ceil(node.getBoundingClientRect().width);\n      return buttonWidth + ACTION_SPACING;\n    });\n    const disclosureWidth = hiddenActionsWidths.pop() || 0;\n    handleMeasurementProp({\n      containerWidth,\n      disclosureWidth,\n      hiddenActionsWidths\n    });\n  }, [handleMeasurementProp]);\n  useEffect(() => {\n    handleMeasurement();\n  }, [handleMeasurement, promotedActions]);\n  const promotedActionsMarkup = promotedActions.map((action, index) => {\n    if (instanceOfMenuGroupDescriptor(action)) {\n      return /*#__PURE__*/React.createElement(BulkActionButton, {\n        key: index,\n        disclosure: true,\n        showContentInButton: true,\n        content: action.title,\n        size: buttonSize\n      });\n    }\n    return /*#__PURE__*/React.createElement(BulkActionButton, Object.assign({\n      key: index,\n      disabled: disabled\n    }, action, {\n      size: buttonSize\n    }));\n  });\n  useEventListener('resize', handleMeasurement);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.BulkActionsMeasurerLayout,\n    ref: containerNode\n  }, promotedActionsMarkup, activator);\n}\nexport { BulkActionsMeasurer };","map":{"version":3,"names":["React","useRef","useCallback","useEffect","useEventListener","styles","instanceOfMenuGroupDescriptor","useI18n","BulkActionButton","ACTION_SPACING","BulkActionsMeasurer","_ref","promotedActions","disabled","buttonSize","handleMeasurement","handleMeasurementProp","i18n","containerNode","activatorLabel","translate","activator","createElement","disclosure","content","current","containerWidth","offsetWidth","hiddenActionNodes","children","hiddenActionNodesArray","Array","from","hiddenActionsWidths","map","node","buttonWidth","Math","ceil","getBoundingClientRect","width","disclosureWidth","pop","promotedActionsMarkup","action","index","key","showContentInButton","title","size","Object","assign","className","BulkActionsMeasurerLayout","ref"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/BulkActions/components/BulkActionsMeasurer/BulkActionsMeasurer.js"],"sourcesContent":["import React, { useRef, useCallback, useEffect } from 'react';\nimport { useEventListener } from '../../../../utilities/use-event-listener.js';\nimport styles from '../../BulkActions.css.js';\nimport { instanceOfMenuGroupDescriptor } from '../../utilities.js';\nimport { useI18n } from '../../../../utilities/i18n/hooks.js';\nimport { BulkActionButton } from '../BulkActionButton/BulkActionButton.js';\n\nconst ACTION_SPACING = 4;\nfunction BulkActionsMeasurer({\n  promotedActions = [],\n  disabled,\n  buttonSize,\n  handleMeasurement: handleMeasurementProp\n}) {\n  const i18n = useI18n();\n  const containerNode = useRef(null);\n  const activatorLabel = i18n.translate('Polaris.ResourceList.BulkActions.moreActionsActivatorLabel');\n  const activator = /*#__PURE__*/React.createElement(BulkActionButton, {\n    disclosure: true,\n    content: activatorLabel\n  });\n  const handleMeasurement = useCallback(() => {\n    if (!containerNode.current) {\n      return;\n    }\n    const containerWidth = containerNode.current.offsetWidth;\n    const hiddenActionNodes = containerNode.current.children;\n    const hiddenActionNodesArray = Array.from(hiddenActionNodes);\n    const hiddenActionsWidths = hiddenActionNodesArray.map(node => {\n      const buttonWidth = Math.ceil(node.getBoundingClientRect().width);\n      return buttonWidth + ACTION_SPACING;\n    });\n    const disclosureWidth = hiddenActionsWidths.pop() || 0;\n    handleMeasurementProp({\n      containerWidth,\n      disclosureWidth,\n      hiddenActionsWidths\n    });\n  }, [handleMeasurementProp]);\n  useEffect(() => {\n    handleMeasurement();\n  }, [handleMeasurement, promotedActions]);\n  const promotedActionsMarkup = promotedActions.map((action, index) => {\n    if (instanceOfMenuGroupDescriptor(action)) {\n      return /*#__PURE__*/React.createElement(BulkActionButton, {\n        key: index,\n        disclosure: true,\n        showContentInButton: true,\n        content: action.title,\n        size: buttonSize\n      });\n    }\n    return /*#__PURE__*/React.createElement(BulkActionButton, Object.assign({\n      key: index,\n      disabled: disabled\n    }, action, {\n      size: buttonSize\n    }));\n  });\n  useEventListener('resize', handleMeasurement);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.BulkActionsMeasurerLayout,\n    ref: containerNode\n  }, promotedActionsMarkup, activator);\n}\n\nexport { BulkActionsMeasurer };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}