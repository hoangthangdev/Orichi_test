{"ast":null,"code":"import React, { useState, useRef, useEffect } from 'react';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport styles from './CSSAnimation.css.js';\nvar TransitionStatus = /*#__PURE__*/function (TransitionStatus) {\n  TransitionStatus[\"Entering\"] = \"entering\";\n  TransitionStatus[\"Entered\"] = \"entered\";\n  TransitionStatus[\"Exiting\"] = \"exiting\";\n  TransitionStatus[\"Exited\"] = \"exited\";\n  return TransitionStatus;\n}(TransitionStatus || {});\nfunction CSSAnimation(_ref) {\n  let {\n    in: inProp,\n    className,\n    type,\n    children\n  } = _ref;\n  const [transitionStatus, setTransitionStatus] = useState(inProp ? TransitionStatus.Entering : TransitionStatus.Exited);\n  const isMounted = useRef(false);\n  const node = useRef(null);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    transitionStatus === TransitionStatus.Entering && changeTransitionStatus(TransitionStatus.Entered);\n  }, [transitionStatus]);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    inProp && changeTransitionStatus(TransitionStatus.Entering);\n    !inProp && changeTransitionStatus(TransitionStatus.Exiting);\n  }, [inProp]);\n  useEffect(() => {\n    isMounted.current = true;\n  }, []);\n  const wrapperClassName = classNames(className, styles[variationName('start', type)], inProp && styles[variationName('end', type)]);\n  const content = transitionStatus === TransitionStatus.Exited && !inProp ? null : children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassName,\n    ref: node,\n    onTransitionEnd: handleTransitionEnd\n  }, content);\n  function handleTransitionEnd() {\n    transitionStatus === TransitionStatus.Exiting && changeTransitionStatus(TransitionStatus.Exited);\n  }\n  function changeTransitionStatus(transitionStatus) {\n    setTransitionStatus(transitionStatus);\n    // Forcing a reflow to enable the animation\n    if (transitionStatus === TransitionStatus.Entering) node.current && node.current.getBoundingClientRect();\n  }\n}\nexport { CSSAnimation };","map":{"version":3,"names":["React","useState","useRef","useEffect","classNames","variationName","styles","TransitionStatus","CSSAnimation","_ref","in","inProp","className","type","children","transitionStatus","setTransitionStatus","Entering","Exited","isMounted","node","current","changeTransitionStatus","Entered","Exiting","wrapperClassName","content","createElement","ref","onTransitionEnd","handleTransitionEnd","getBoundingClientRect"],"sources":["D:/tesst/test/node_modules/@shopify/polaris/build/esm/components/Frame/components/CSSAnimation/CSSAnimation.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { classNames, variationName } from '../../../../utilities/css.js';\nimport styles from './CSSAnimation.css.js';\n\nvar TransitionStatus = /*#__PURE__*/function (TransitionStatus) {\n  TransitionStatus[\"Entering\"] = \"entering\";\n  TransitionStatus[\"Entered\"] = \"entered\";\n  TransitionStatus[\"Exiting\"] = \"exiting\";\n  TransitionStatus[\"Exited\"] = \"exited\";\n  return TransitionStatus;\n}(TransitionStatus || {});\nfunction CSSAnimation({\n  in: inProp,\n  className,\n  type,\n  children\n}) {\n  const [transitionStatus, setTransitionStatus] = useState(inProp ? TransitionStatus.Entering : TransitionStatus.Exited);\n  const isMounted = useRef(false);\n  const node = useRef(null);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    transitionStatus === TransitionStatus.Entering && changeTransitionStatus(TransitionStatus.Entered);\n  }, [transitionStatus]);\n  useEffect(() => {\n    if (!isMounted.current) return;\n    inProp && changeTransitionStatus(TransitionStatus.Entering);\n    !inProp && changeTransitionStatus(TransitionStatus.Exiting);\n  }, [inProp]);\n  useEffect(() => {\n    isMounted.current = true;\n  }, []);\n  const wrapperClassName = classNames(className, styles[variationName('start', type)], inProp && styles[variationName('end', type)]);\n  const content = transitionStatus === TransitionStatus.Exited && !inProp ? null : children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: wrapperClassName,\n    ref: node,\n    onTransitionEnd: handleTransitionEnd\n  }, content);\n  function handleTransitionEnd() {\n    transitionStatus === TransitionStatus.Exiting && changeTransitionStatus(TransitionStatus.Exited);\n  }\n  function changeTransitionStatus(transitionStatus) {\n    setTransitionStatus(transitionStatus);\n    // Forcing a reflow to enable the animation\n    if (transitionStatus === TransitionStatus.Entering) node.current && node.current.getBoundingClientRect();\n  }\n}\n\nexport { CSSAnimation };\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,SAASC,UAAU,EAAEC,aAAa,QAAQ,8BAA8B;AACxE,OAAOC,MAAM,MAAM,uBAAuB;AAE1C,IAAIC,gBAAgB,GAAG,aAAa,UAAUA,gBAAgB,EAAE;EAC9DA,gBAAgB,CAAC,UAAU,CAAC,GAAG,UAAU;EACzCA,gBAAgB,CAAC,SAAS,CAAC,GAAG,SAAS;EACvCA,gBAAgB,CAAC,SAAS,CAAC,GAAG,SAAS;EACvCA,gBAAgB,CAAC,QAAQ,CAAC,GAAG,QAAQ;EACrC,OAAOA,gBAAgB;AACzB,CAAC,CAACA,gBAAgB,IAAI,CAAC,CAAC,CAAC;AACzB,SAASC,YAAYA,CAAAC,IAAA,EAKlB;EAAA,IALmB;IACpBC,EAAE,EAAEC,MAAM;IACVC,SAAS;IACTC,IAAI;IACJC;EACF,CAAC,GAAAL,IAAA;EACC,MAAM,CAACM,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGf,QAAQ,CAACU,MAAM,GAAGJ,gBAAgB,CAACU,QAAQ,GAAGV,gBAAgB,CAACW,MAAM,CAAC;EACtH,MAAMC,SAAS,GAAGjB,MAAM,CAAC,KAAK,CAAC;EAC/B,MAAMkB,IAAI,GAAGlB,MAAM,CAAC,IAAI,CAAC;EACzBC,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,SAAS,CAACE,OAAO,EAAE;IACxBN,gBAAgB,KAAKR,gBAAgB,CAACU,QAAQ,IAAIK,sBAAsB,CAACf,gBAAgB,CAACgB,OAAO,CAAC;EACpG,CAAC,EAAE,CAACR,gBAAgB,CAAC,CAAC;EACtBZ,SAAS,CAAC,MAAM;IACd,IAAI,CAACgB,SAAS,CAACE,OAAO,EAAE;IACxBV,MAAM,IAAIW,sBAAsB,CAACf,gBAAgB,CAACU,QAAQ,CAAC;IAC3D,CAACN,MAAM,IAAIW,sBAAsB,CAACf,gBAAgB,CAACiB,OAAO,CAAC;EAC7D,CAAC,EAAE,CAACb,MAAM,CAAC,CAAC;EACZR,SAAS,CAAC,MAAM;IACdgB,SAAS,CAACE,OAAO,GAAG,IAAI;EAC1B,CAAC,EAAE,EAAE,CAAC;EACN,MAAMI,gBAAgB,GAAGrB,UAAU,CAACQ,SAAS,EAAEN,MAAM,CAACD,aAAa,CAAC,OAAO,EAAEQ,IAAI,CAAC,CAAC,EAAEF,MAAM,IAAIL,MAAM,CAACD,aAAa,CAAC,KAAK,EAAEQ,IAAI,CAAC,CAAC,CAAC;EAClI,MAAMa,OAAO,GAAGX,gBAAgB,KAAKR,gBAAgB,CAACW,MAAM,IAAI,CAACP,MAAM,GAAG,IAAI,GAAGG,QAAQ;EACzF,OAAO,aAAad,KAAK,CAAC2B,aAAa,CAAC,KAAK,EAAE;IAC7Cf,SAAS,EAAEa,gBAAgB;IAC3BG,GAAG,EAAER,IAAI;IACTS,eAAe,EAAEC;EACnB,CAAC,EAAEJ,OAAO,CAAC;EACX,SAASI,mBAAmBA,CAAA,EAAG;IAC7Bf,gBAAgB,KAAKR,gBAAgB,CAACiB,OAAO,IAAIF,sBAAsB,CAACf,gBAAgB,CAACW,MAAM,CAAC;EAClG;EACA,SAASI,sBAAsBA,CAACP,gBAAgB,EAAE;IAChDC,mBAAmB,CAACD,gBAAgB,CAAC;IACrC;IACA,IAAIA,gBAAgB,KAAKR,gBAAgB,CAACU,QAAQ,EAAEG,IAAI,CAACC,OAAO,IAAID,IAAI,CAACC,OAAO,CAACU,qBAAqB,CAAC,CAAC;EAC1G;AACF;AAEA,SAASvB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}